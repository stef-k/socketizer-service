"use strict";var Socketizer=Socketizer||{};Socketizer.main=function(a){var b=!1,c="wss://service.socketizer.com/service/wordpress/live/"+socketizer.host,d={};d.attempts=1;var e={};return e.connected=!1,e.init=function(){d.healthyClose(),d.check(),d.connect()},d.healthyClose=function(){window.onbeforeunload=function(){e.connected&&d.socket.close(1e3)}},d.check=function(){window.WebSocket?b=!0:e.connected="Socketizer: Please update to a modern web browser"},d.connect=function(){b&&(d.socket=new WebSocket(c),d.socket.onopen=function(){e.connected=!0},d.socket.onmessage=function(a){d.receive(a)},d.socket.onclose=function(){e.connected=!1,d.close()})},d.close=function(){var a=d.generateInterval(d.attempts);setTimeout(function(){d.attempts++,d.connect()},a)},d.generateInterval=function(a){var b=1e3*(Math.pow(2,a)-1);return b>3e4&&(b=3e4),Math.random()*b},d.smallInterval=function(){return Math.random(1,1500)},d.receive=function(b){var c=JSON.parse(b.data);socketizer.postsPage,window.location.href;c.hasOwnProperty("Data")&&c.Data.hasOwnProperty("cmd")&&"refreshPost"===c.Data.cmd&&setTimeout(function(){a("body").load(window.location.href)},d.smallInterval())},e}(jQuery),document.addEventListener("DOMContentLoaded",Socketizer.main.init);